// Test reference types (&T, &mut T)

fn test_immutable_ref() {
    let x: i32 = 42;
    let ref_x: &i32 = &x;
    let val: i32 = *ref_x;
    print_int(val); // Should print 42
}

fn test_mutable_ref() {
    let mut x: i32 = 10;
    let ref_x: &mut i32 = &mut x;
    *ref_x = 20;
    // Cannot use x while ref_x is active
    // print_int(x); // Would be an error
    print_int(*ref_x); // Should print 20
}

fn modify_value(val: &mut i32) {
    *val = *val + 5;
}

fn test_ref_parameter() {
    let mut x: i32 = 15;
    modify_value(&mut x);
    print_int(x); // Should print 20
}

fn main() {
    test_immutable_ref();
    test_mutable_ref();
    test_ref_parameter();
}